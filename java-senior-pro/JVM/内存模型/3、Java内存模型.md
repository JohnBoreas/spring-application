java内存模型是 Java虚拟机（JVM）在处理多线程时的一种规范，

它**定义了**线程之间如何访问共享内存，并**保证了**线程之间数据的可见性、有序性和原子性。



特点：

1. 原子性：JMM保证了对基本类型变量（除了long和double）的读取和赋值操作具有原子性，即一个线程在执行完一个操作之前，其他线程无法看到这个操作的中间状态。
2. 可见性：JMM保证了线程之间共享变量的可见性，即一个线程对共享变量的修改会立即被其他线程看到。
3. 有序性：JMM保证了程序执行的顺序不会被重排，即一个线程的指令执行顺序在其他线程中不会发生改变。



Java内存模型的实现方式如下：

1. 主内存和工作内存：JMM定义了**主内存**和**工作内存**的概念。所有线程都可以访问主内存，但线程不能直接访问主内存中的变量，而是需要将变量从主内存拷贝到自己的工作内存中进行操作，操作完成后再将结果写回主内存。
2. 内存屏障：JMM使用**内存屏障**（Memory Barrier）来保证程序执行的顺序和可见性。内存屏障是一种硬件或软件机制，它会强制将工作内存中的数据同步到主内存，或从主内存中读取最新的数据到工作内存中，以保证数据的可见性和有序性。
3. **happens-before关系**：JMM定义了一种happens-before关系，它可以用来描述程序执行顺序和数据依赖关系，保证了程序执行的顺序和可见性。

