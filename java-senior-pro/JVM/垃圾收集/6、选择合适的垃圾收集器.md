如何选择一款适合自己应用的收集器呢？

（1）应用程序的主要关注点是什么？

吞吐量，内存占用，低延时

（2）运行应用的基础设施如何？

如硬件规格，要涉及的系统架构是x86-32/64、SPARC还是 ARM/Aarch64；

处理器的数量多少，分配内存的大小；

选择的操作系统是Linux、Solaris还是Windows 

等。

（3）使用JDK的发行商是什么？版本号是多少？

是ZingJDK/Zulu、OracleJDK、Open-JDK、OpenJ9抑 或是其他公司的发行版？

该JDK对应了《Java虚拟机规范》的哪个版本？



一般来说延迟时间是这类应用的主要关注点，那么： 

（1）如果你有充足的预算但没有太多调优经验，那么一套带商业技术支持的专有硬件或者软件解决方 

案是不错的选择，Azul公司以前主推的Vega系统和现在主推的Zing VM是这方面的代表，这样你就可以 

使用传说中的C4收集器了。 

（2）如果你虽然没有足够预算去使用商业解决方案，但能够掌控软硬件型号，使用较新的版本，同时 

又特别注重延迟，那ZGC很值得尝试。 

（3）如果你对还处于实验状态的收集器的稳定性有所顾虑，或者应用必须运行在Win-dows操作系统 

下，那ZGC就无缘了，试试Shenandoah吧。 

（4）如果你接手的是遗留系统，软硬件基础设施和JDK版本都比较落后，那就根据内存规模衡量一 

下，对于大概4GB到6GB以下的堆内存，CMS一般能处理得比较好，而对于更大的堆内存，可重点考 

察一下G1。 