SQL 的大概的执行过程。

1. 首先客户端发送请求到服务端，建立**连接**。

2. 服务端先看下查询**缓存**是否命中，命中就直接返回，否则继续往下执行。

   （ SQL 大小写不同、多了空格都无法命中查询缓存）

3. 接着来到**解析器**，进行语法分析，一些系统关键字校验，校验语法是否合规。

4. 然后**优化器**进行 SQL 优化，比如怎么选择索引之类，然后生成执行计划。

5. 最后**执行引擎**调用存储引擎 API 查询数据，返回结果。



优化器

![img](..\resource\sql优化器.jpg)



<img src="..\resource\SQL解析流程.awebp" alt="img" style="zoom:60%;" />