一、一致性问题

（1）先操作数据库，再操作缓存

（2）先操作缓存，再操作数据库

![](../resource/先修改数据库后修改缓存.jpg)

不管是先操作数据库，还是先操作缓存，只要第二个操作失败都会出现数据一致的问题。



解决：

- 重试机制。
- 订阅 MySQL binlog，再操作缓存。