**Record Lock**，

​		字面意思，行记录的锁，实际上指的是对索引记录的锁定。

比如执行语句`select * from user where age=10 for update`，将会锁住`user`表所有`age=10`的行记录，所有对`age=10`的记录的操作都会被阻塞。



**Gap Lock**，

​		也就是**间隙锁**，它用于锁定的索引之间的间隙，但是不会包含记录本身。

比如语句`select * from user where age>1 and age<10 for update`，将会锁住`age`在(1,10)的范围区间，此时其他事务对该区间的操作都会被阻塞。

间隙锁是可重复读RR隔离级别下特有的，另外还有几种场景也会不使用间隙锁。

1. 事务隔离级别设置为读已提交RC ，这样肯定没有间隙锁了。
2. `Innodb_locks_unsafe_for_binlog`设置为1
3. 另外一种情况适用于**主键索引或者唯一索引**的等值查询条件，比如`select * from user where id=1`，`id`是主键索引，这样只使用Record Lock就可以了，因为能唯一锁定一条记录，所以没有必要再加间隙锁了，这是锁降级的过程。



**Next-Key Lock**

​		实际上就是相当于Record Lock+Gap Lock的组合。

​		比如索引有10，20，30几个值，那么被锁住的区间可能会是(-∞,10]，(10,20]，(20,30]，(30,+∞)。