一、微信报表抓取

https://mp.weixin.qq.com/?lang=zh_CN&token=

背景：需要进行二维码扫码登录，但是用webdriver启动谷歌浏览器后，扫码后确认失败，但正常打开的可以

解决：

1、看是否加一些启动参数去解决，尽可能的与人工打开的浏览器一致（未找到）

options.setExperimentalOption("excludeSwitches", new Object[]{"enable-automation"});加入后依然不可用

```js
window.navigator.webdriver
webdriver打开是true，非是undefined
```

2、去控制一个已打开的浏览器，（不可，每次都会关掉浏览器）

3、换个火狐浏览器去做（可行）

思考：

可能是因为webdriver打开谷歌浏览器有某些浏览器参数被传到服务器，导致被认为是爬虫，但是火狐没有



ps：

谷歌下载：**chromedriver.exe**

火狐下载：**geckodriver.exe**

IE下载：**IEDriverServer.exe**



二、安卓app抓取

Google 做的新安全策略

- 在 Android7.0 及以上的系统中，每个应用可以定义自己的可信 CA 集。
- 默认情况下，应用只会信任系统预装的 CA 证书，而不会信任用户安装的 CA 证书。通过某些抓包软件安装的证书恰恰正属于用户安装的 CA 证书，因此会被视作不安全的证书。

如果想要在 Android7.0 以上抓第三方 APP 的包只能：

1. 逆向加(改)配置文件
2. Root 系统将抓包软件的证书加入系统证书或者 Xposed(也是只有 Root 后才能操作)

当然，如果是自己的 APP 那么在测试阶段加一个配置文件信任所有的证书即可





三、