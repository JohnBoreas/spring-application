一、抓取研究步骤：

（1）通过fiddle工具抓取链接

（2）观察需要添加哪些content-type，httpclient，curl测试链接

（3）观察有哪些反爬的机制（比如：cookie，token等等）





二、反爬

1、验证码

（1）使用第三方接口工具，如：超级鹰

（2）第三方的验证码识别包，如：OCR，tess4j



2、滑块

（1）需要手动划，划一次能管很久，需要制作监控报警

（2）机器划，exe文件轨迹



3、加密

（1）接口加密，token，authorization

每次登录生成，或者通过参数进行加密（多为md5）

web抓取接口：js断点调试加密方法

app抓取接口：破解app，安卓逆向（dex2jar，jd-gui），反编译代码，寻找加密方式

（2）字符加密

价格，手机等敏感数据加密，需要对价格解密（酒店数据）或者通过其他方式获取



4、登录

需要登录的cookie才能抓取

（1）制作自动化登录程序，如：webdriver，手机扫码，等

（2）人工登录，手动上传cookie，登录信息



5、头信息**User-Agent**，header限制（常见）

（1）referer

（2）content-type



6、代理IP检测，频率上限制

（1）频率放慢

（2）IP池大



7、接口数据上限制                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           

无法抓全某个网站的数据

（1）翻到100页后面数据重复

（2）翻页，越后面，数据重复率越大

（3）每抓取下一页数据，都要传上一页所有或者最后一个数据的id（参数限制，程序复杂）

（4）接口数据部分加密（敏感）。需要页面js破解



8、不能直接访问，需要做跳转

（1）跳转到中间页，执行js脚本，到新的页面



