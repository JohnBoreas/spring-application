**传统的ACID**

```
A (Atomicity) 原子性
C (Consistency) 一致性
I (Isolation) 独立性
D (Durability) 持久性
```

**CAP**

```shell
## C:Consistency（强一致性）
即写操作之后的读操作，必须返回该值。
## A:Availability（可用性）
（读写操作）即只要收到用户的请求，服务器就必须给出回应。
## P:Partition tolerance（分区容错性）
（网络问题）每个子网络就叫做一个区（partition），分区容错的意思是，区间通信可能失败。
```

 **CAP 定理**

```
【CAP三个指标不可能同时做到】
1998年，加州大学的计算机科学家 Eric Brewer 提出三个指标
```



**三大系统架构：**

CA 传统Oracle数据库

AP 大多数网站架构的选择

CP Redis、Mongodb

<img src="..\..\resource\cap图.png" alt="cap图.png" style="zoom:50%;" />

##### Consistency 和 Availability 的矛盾

1、一致性和可用性，为什么不可能同时成立？

答案：因为可能通信失败（即出现分区容错）。

2、为什么？

如果保证 G2 的一致性，那么 G1 必须在写操作时，锁定 G2 的读操作和写操作。只有数据同步后，才能重新开放读写。锁定期间，G2 不能读写，没有可用性不。

如果保证 G2 的可用性，那么势必不能锁定 G2，所以一致性不成立。





##### BASE

1、是什么？

为了解决关系数据库强一致性引起的问题而引起的可用性降低而提出的解决方案。

2、三个术语的缩写：

基本可用（Basically Available）
软状态（Soft state）
最终一致（Eventually consistent）

3、思想

通过让系统放松对某一时刻数据一致性的要求来换取系统整体伸缩性和性能上改观。

为什么这么说呢，缘由就在于大型系统往往由于地域分布和极高性能的要求，不可能采用分布式事务来完成这些指标，要想获得这些指标，我们必须采用另外一种方式来完成，这里BASE就是解决这个问题的办法



##### 区分分布式与集群

1、分布式：不同的多台服务器上面部署不同的服务模块（工程），他们之间通过Rpc/Rmi之间通信和调用，对外提供服务和组内协作。

2、集群：不同的多台服务器上面部署相同的服务模块，通过分布式调度软件进行统一的调度，对外提供服务和访问。



